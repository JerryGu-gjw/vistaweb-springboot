[INFO] Scanning for projects...
[INFO] 
[INFO] -------------------------< lab.vista:vistaweb >-------------------------
[INFO] Building vistaweb 0.0.1-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot-maven-plugin:2.7.5:run (default-cli) > test-compile @ vistaweb >>>
[INFO] 
[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ vistaweb ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Using 'UTF-8' encoding to copy filtered properties files.
[INFO] Copying 1 resource
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ vistaweb ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ vistaweb ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Using 'UTF-8' encoding to copy filtered properties files.
[INFO] skip non existing resourceDirectory /home/vista/web/springboot/vistaweb/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ vistaweb ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] <<< spring-boot-maven-plugin:2.7.5:run (default-cli) < test-compile @ vistaweb <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot-maven-plugin:2.7.5:run (default-cli) @ vistaweb ---
[INFO] Attaching agents: []
12:54:21.915 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@545a9592
VISTA LABS
2022-11-23 12:54:22.246  INFO 19140 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : Starting VistawebApplication using Java 17.0.5 on vista-server with PID 19140 (/home/vista/web/springboot/vistaweb/target/classes started by vista in /home/vista/web/springboot/vistaweb)
2022-11-23 12:54:22.248  INFO 19140 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : No active profile set, falling back to 1 default profile: "default"
2022-11-23 12:54:22.295  INFO 19140 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-23 12:54:22.295  INFO 19140 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-23 12:54:23.292  INFO 19140 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8181 (http)
2022-11-23 12:54:23.300  INFO 19140 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-11-23 12:54:23.301  INFO 19140 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-23 12:54:23.354  INFO 19140 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-11-23 12:54:23.354  INFO 19140 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1059 ms
Logging initialized using 'class org.apache.ibatis.logging.stdout.StdOutImpl' adapter.
2022-11-23 12:54:23.469  INFO 19140 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2022-11-23 12:54:23.594  INFO 19140 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
Property 'mapperLocations' was not specified.
 _ _   |_  _ _|_. ___ _ |    _ 
| | |\/|_)(_| | |_\  |_)||_|_\ 
     /               |         
                        3.4.2 
2022-11-23 12:54:23.907  INFO 19140 --- [  restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-11-23 12:54:23.959  INFO 19140 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-11-23 12:54:24.125  WARN 19140 --- [  restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2022-11-23 12:54:24.190  INFO 19140 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8181 (http) with context path ''
2022-11-23 12:54:24.191  INFO 19140 --- [  restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2022-11-23 12:54:24.203  INFO 19140 --- [  restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2022-11-23 12:54:24.222  INFO 19140 --- [  restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2022-11-23 12:54:24.373  INFO 19140 --- [  restartedMain] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: queryUsingGET_1
2022-11-23 12:54:24.392  INFO 19140 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : Started VistawebApplication in 2.46 seconds (JVM running for 2.802)
2022-11-23 13:29:53.709  INFO 19140 --- [nio-8181-exec-1] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xd20x010x000x000xce0x030x03#0xb310xe10xc2+0xb60x98i50x9d0xb30xa50xc9e0xe1\0x940x9b0xba}!0xa70x0b0xb2%0x89=W""90x000x00b0xc000xc0,0xc0/0xc0+0x000x9f0x000x9e0xc020xc0.0xc010xc0-0x000xa50x000xa10x000xa40x000xa00xc0(0xc0$0xc00x140xc00x0a0xc0*0xc0&0xc00x0f0xc00x050xc0'0xc0#0xc00x130xc00x090xc0)0xc0%0xc00x0e0xc00x040x00k0x00i0x00h0x0090x0070x0060x00g0x00?0x00>0x0030x0010x0000x000x9d0x000x9c0x00=0x0050x00<0x00/0x000xff0x010x000x00C0x000x0b0x000x040x030x000x010x020x000x0a0x000x0a0x000x080x000x170x000x190x000x180x000x160x00#0x000x000x000x0d0x00 ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-23 13:34:52.179  INFO 19140 --- [nio-8181-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-23 13:34:52.180  INFO 19140 --- [nio-8181-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-11-23 13:34:52.183  INFO 19140 --- [nio-8181-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2022-11-23 13:34:52.199  WARN 19140 --- [nio-8181-exec-2] o.s.web.servlet.PageNotFound             : No mapping for GET /
2022-11-23 13:34:54.632  WARN 19140 --- [nio-8181-exec-6] o.s.web.servlet.PageNotFound             : No mapping for OPTIONS /
2022-11-23 14:48:34.720  INFO 19140 --- [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2022-11-23 14:48:34.740  INFO 19140 --- [       Thread-4] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-11-23 14:48:34.742  INFO 19140 --- [       Thread-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-11-23 14:48:34.769  INFO 19140 --- [       Thread-4] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2022-11-23 14:48:34.771  INFO 19140 --- [       Thread-4] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
VISTA LABS
2022-11-23 14:48:34.924  INFO 19140 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : Starting VistawebApplication using Java 17.0.5 on vista-server with PID 19140 (/home/vista/web/springboot/vistaweb/target/classes started by vista in /home/vista/web/springboot/vistaweb)
2022-11-23 14:48:34.925  INFO 19140 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : No active profile set, falling back to 1 default profile: "default"
2022-11-23 14:48:35.279  INFO 19140 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8181 (http)
2022-11-23 14:48:35.280  INFO 19140 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-11-23 14:48:35.280  INFO 19140 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-23 14:48:35.290  INFO 19140 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-11-23 14:48:35.290  INFO 19140 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 363 ms
Logging initialized using 'class org.apache.ibatis.logging.stdout.StdOutImpl' adapter.
2022-11-23 14:48:35.326  INFO 19140 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2022-11-23 14:48:35.342  INFO 19140 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-2} inited
Property 'mapperLocations' was not specified.
 _ _   |_  _ _|_. ___ _ |    _ 
| | |\/|_)(_| | |_\  |_)||_|_\ 
     /               |         
                        3.4.2 
2022-11-23 14:48:35.446  INFO 19140 --- [  restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-11-23 14:48:35.462  INFO 19140 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-11-23 14:48:35.518  WARN 19140 --- [  restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2022-11-23 14:48:35.547  INFO 19140 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8181 (http) with context path ''
2022-11-23 14:48:35.548  INFO 19140 --- [  restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2022-11-23 14:48:35.549  INFO 19140 --- [  restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2022-11-23 14:48:35.552  INFO 19140 --- [  restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2022-11-23 14:48:35.584  INFO 19140 --- [  restartedMain] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: queryUsingGET_1
2022-11-23 14:48:35.592  INFO 19140 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : Started VistawebApplication in 0.695 seconds (JVM running for 6854.002)
2022-11-23 14:48:35.595  INFO 19140 --- [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2022-11-23 14:48:51.170  INFO 19140 --- [ionShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-2} closing ...
2022-11-23 14:48:51.170  INFO 19140 --- [ionShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-2} closed
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  01:54 h
[INFO] Finished at: 2022-11-23T14:48:51+08:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.5:run (default-cli) on project vistaweb: Application finished with exit code: 143 -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
[INFO] Scanning for projects...
[INFO] 
[INFO] -------------------------< lab.vista:vistaweb >-------------------------
[INFO] Building vistaweb 0.0.1-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot-maven-plugin:2.7.5:run (default-cli) > test-compile @ vistaweb >>>
[INFO] 
[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ vistaweb ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Using 'UTF-8' encoding to copy filtered properties files.
[INFO] Copying 1 resource
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ vistaweb ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ vistaweb ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Using 'UTF-8' encoding to copy filtered properties files.
[INFO] skip non existing resourceDirectory /home/vista/web/springboot/vistaweb/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ vistaweb ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] <<< spring-boot-maven-plugin:2.7.5:run (default-cli) < test-compile @ vistaweb <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot-maven-plugin:2.7.5:run (default-cli) @ vistaweb ---
[INFO] Attaching agents: []
01:23:11.387 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@545a9592
VISTA LABS
2022-11-24 01:23:11.727  INFO 16901 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : Starting VistawebApplication using Java 17.0.5 on vista-server with PID 16901 (/home/vista/web/springboot/vistaweb/target/classes started by vista in /home/vista/web/springboot/vistaweb)
2022-11-24 01:23:11.728  INFO 16901 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : No active profile set, falling back to 1 default profile: "default"
2022-11-24 01:23:11.776  INFO 16901 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2022-11-24 01:23:11.776  INFO 16901 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2022-11-24 01:23:12.830  INFO 16901 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8181 (http)
2022-11-24 01:23:12.840  INFO 16901 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-11-24 01:23:12.840  INFO 16901 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-24 01:23:12.897  INFO 16901 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-11-24 01:23:12.897  INFO 16901 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1120 ms
Logging initialized using 'class org.apache.ibatis.logging.stdout.StdOutImpl' adapter.
2022-11-24 01:23:13.008  INFO 16901 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2022-11-24 01:23:13.138  INFO 16901 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
Property 'mapperLocations' was not specified.
 _ _   |_  _ _|_. ___ _ |    _ 
| | |\/|_)(_| | |_\  |_)||_|_\ 
     /               |         
                        3.4.2 
2022-11-24 01:23:13.466  INFO 16901 --- [  restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-11-24 01:23:13.525  INFO 16901 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-11-24 01:23:13.700  WARN 16901 --- [  restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2022-11-24 01:23:13.767  INFO 16901 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8181 (http) with context path ''
2022-11-24 01:23:13.768  INFO 16901 --- [  restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2022-11-24 01:23:13.780  INFO 16901 --- [  restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2022-11-24 01:23:13.799  INFO 16901 --- [  restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2022-11-24 01:23:13.941  INFO 16901 --- [  restartedMain] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: queryUsingGET_1
2022-11-24 01:23:13.973  INFO 16901 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : Started VistawebApplication in 2.569 seconds (JVM running for 2.91)
2022-11-24 01:26:42.523  INFO 16901 --- [nio-8181-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-24 01:26:42.523  INFO 16901 --- [nio-8181-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-11-24 01:26:42.524  INFO 16901 --- [nio-8181-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c513b3c] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@31302367] will not be managed by Spring
==>  Preparing: select * from User where u_account=? AND u_password=?
==> Parameters: admin(String), 123456(String)
<==    Columns: u_id, u_account, u_password, u_email, u_register_time
<==        Row: 1003, admin, 123456, , 2022-11-22 04:34:43
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c513b3c]
login success
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e788691] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@31302367] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e788691]
2022-11-24 01:26:44.295  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 0
2022-11-24 01:26:45.658  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
2022-11-24 01:26:51.012  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
2022-11-24 01:40:04.131  INFO 16901 --- [nio-8181-exec-8] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xd20x010x000x000xce0x030x030xeb0x88k0x9f(0xd1k0x9f0xf3N0x820x0e0x8fz0x8b0xbbS0xc70x130xb10x94? ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@357dffb] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@1d865568] will not be managed by Spring
==>  Preparing: select * from User where u_account=? AND u_password=?
==> Parameters: admin(String), 123456(String)
<==    Columns: u_id, u_account, u_password, u_email, u_register_time
<==        Row: 1003, admin, 123456, , 2022-11-22 04:34:43
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@357dffb]
login success
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61766d68] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@1d865568] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61766d68]
2022-11-24 02:38:01.282  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 2
2022-11-24 02:38:02.253  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
2022-11-24 02:38:21.971  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[2]发送消息{"msg":"ping"}
2022-11-24 02:38:25.491  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24bd663e] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@1d865568] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24bd663e]
2022-11-24 02:38:26.940  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 4
2022-11-24 02:38:27.833  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
2022-11-24 02:38:38.130  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
2022-11-24 03:05:08.573  INFO 16901 --- [nio-8181-exec-7] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xd20x010x000x000xce0x030x030xc90xef0x99 ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 07:19:16.685  WARN 16901 --- [nio-8181-exec-5] o.s.web.servlet.PageNotFound             : No mapping for HEAD /
2022-11-24 07:19:18.552  WARN 16901 --- [nio-8181-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /system_api.php
2022-11-24 07:19:19.982  WARN 16901 --- [nio-8181-exec-9] o.s.web.servlet.PageNotFound             : No mapping for GET /c/version.js
2022-11-24 07:19:21.398  WARN 16901 --- [nio-8181-exec-1] o.s.web.servlet.PageNotFound             : No mapping for GET /streaming/clients_live.php
2022-11-24 07:19:22.829  WARN 16901 --- [nio-8181-exec-4] o.s.web.servlet.PageNotFound             : No mapping for GET /stalker_portal/c/version.js
2022-11-24 07:19:24.238  WARN 16901 --- [nio-8181-exec-6] o.s.web.servlet.PageNotFound             : No mapping for GET /stream/live.php
2022-11-24 07:19:25.666  WARN 16901 --- [nio-8181-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /flu/403.html
2022-11-24 07:19:27.075  WARN 16901 --- [nio-8181-exec-9] o.s.web.servlet.PageNotFound             : No mapping for GET /
2022-11-24 08:30:37.957  WARN 16901 --- [nio-8181-exec-3] o.s.web.servlet.PageNotFound             : No mapping for GET /
2022-11-24 09:48:45.474  WARN 16901 --- [nio-8181-exec-9] o.s.web.servlet.PageNotFound             : No mapping for GET /
2022-11-24 09:48:49.974  WARN 16901 --- [nio-8181-exec-5] o.s.web.servlet.PageNotFound             : No mapping for OPTIONS /
2022-11-24 09:48:56.283  WARN 16901 --- [nio-8181-exec-7] o.s.web.servlet.PageNotFound             : No mapping for GET /nice%20ports%2C/Tri%6Eity.txt%2ebak
2022-11-24 10:05:31.742  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 6
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c0a3319] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@67efd509] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c0a3319]
2022-11-24 10:05:32.599  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=undefined, 当前在线人数为：1
username
2022-11-24 10:05:33.775  INFO 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=undefined的用户session, 当前在线人数为：0
2022-11-24 10:15:27.970  WARN 16901 --- [nio-8181-exec-4] o.s.web.servlet.PageNotFound             : No mapping for GET /
2022-11-24 10:17:35.445  WARN 16901 --- [nio-8181-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /favicon.ico
2022-11-24 10:19:33.453  WARN 16901 --- [nio-8181-exec-9] o.s.web.servlet.PageNotFound             : No mapping for GET /
2022-11-24 10:19:57.412  WARN 16901 --- [nio-8181-exec-1] o.s.web.servlet.PageNotFound             : No mapping for GET /
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20d7965b] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5c037e57] will not be managed by Spring
==>  Preparing: select * from User where u_account=? AND u_password=?
==> Parameters: admin(String), 123456(String)
<==    Columns: u_id, u_account, u_password, u_email, u_register_time
<==        Row: 1003, admin, 123456, , 2022-11-22 04:34:43
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20d7965b]
login success
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5578619b] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@5c037e57] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5578619b]
2022-11-24 10:37:14.360  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 8
2022-11-24 10:37:15.169  INFO 16901 --- [nio-8181-exec-7] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
2022-11-24 10:37:34.958  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[8]发送消息{"msg":"ping"}
2022-11-24 10:37:59.170  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
2022-11-24 11:02:58.216  INFO 16901 --- [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 18 class path changes (0 additions, 0 deletions, 18 modifications)
2022-11-24 11:02:58.230  INFO 16901 --- [       Thread-4] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-11-24 11:02:58.231  INFO 16901 --- [       Thread-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-11-24 11:02:58.251  INFO 16901 --- [       Thread-4] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2022-11-24 11:02:58.253  INFO 16901 --- [       Thread-4] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
VISTA LABS
2022-11-24 11:02:58.428  INFO 16901 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : Starting VistawebApplication using Java 17.0.5 on vista-server with PID 16901 (/home/vista/web/springboot/vistaweb/target/classes started by vista in /home/vista/web/springboot/vistaweb)
2022-11-24 11:02:58.428  INFO 16901 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : No active profile set, falling back to 1 default profile: "default"
2022-11-24 11:02:58.693  INFO 16901 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8181 (http)
2022-11-24 11:02:58.694  INFO 16901 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-11-24 11:02:58.694  INFO 16901 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-24 11:02:58.701  INFO 16901 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-11-24 11:02:58.701  INFO 16901 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 271 ms
Logging initialized using 'class org.apache.ibatis.logging.stdout.StdOutImpl' adapter.
2022-11-24 11:02:58.729  INFO 16901 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2022-11-24 11:02:58.740  INFO 16901 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-2} inited
Property 'mapperLocations' was not specified.
 _ _   |_  _ _|_. ___ _ |    _ 
| | |\/|_)(_| | |_\  |_)||_|_\ 
     /               |         
                        3.4.2 
2022-11-24 11:02:58.844  INFO 16901 --- [  restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-11-24 11:02:58.858  INFO 16901 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-11-24 11:02:58.913  WARN 16901 --- [  restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2022-11-24 11:02:58.956  INFO 16901 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8181 (http) with context path ''
2022-11-24 11:02:58.957  INFO 16901 --- [  restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2022-11-24 11:02:58.958  INFO 16901 --- [  restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2022-11-24 11:02:58.963  INFO 16901 --- [  restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2022-11-24 11:02:58.998  INFO 16901 --- [  restartedMain] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: queryUsingGET_1
2022-11-24 11:02:59.008  INFO 16901 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : Started VistawebApplication in 0.608 seconds (JVM running for 34787.945)
2022-11-24 11:02:59.011  INFO 16901 --- [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2022-11-24 11:03:41.395  INFO 16901 --- [nio-8181-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-24 11:03:41.395  INFO 16901 --- [nio-8181-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-11-24 11:03:41.397  INFO 16901 --- [nio-8181-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705be7] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from User where u_account=? AND u_password=?
==> Parameters: admin(String), 123456(String)
<==    Columns: u_id, u_account, u_password, u_email, u_register_time
<==        Row: 1003, admin, 123456, , 2022-11-22 04:34:43
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e705be7]
login success
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61c1c2e8] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61c1c2e8]
2022-11-24 11:03:42.340  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : a
2022-11-24 11:03:43.209  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
2022-11-24 11:04:03.638  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[a]发送消息{"msg":"ping"}
2022-11-24 11:07:44.871  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cf846b] was not registered for synchronization because synchronization is not active
2022-11-24 11:07:46.140  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : c
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cf846b]
2022-11-24 11:07:47.028  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@186ebd90] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@186ebd90]
2022-11-24 11:07:51.328  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : e
2022-11-24 11:07:52.145  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
2022-11-24 11:07:53.344  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
2022-11-24 11:07:53.344  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@297949b7] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@297949b7]
2022-11-24 11:07:54.587  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 10
2022-11-24 11:07:55.413  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
2022-11-24 11:08:15.642  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[10]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3657d887] was not registered for synchronization because synchronization is not active
2022-11-24 11:10:16.080  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 10
2022-11-24 11:10:16.080  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 12
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3657d887]
2022-11-24 11:10:16.907  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=undefined, 当前在线人数为：2
username
2022-11-24 11:10:37.636  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[10]发送消息{"msg":"ping"}
2022-11-24 11:10:37.637  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:17:50.514  INFO 16901 --- [nio-8181-exec-7] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b39a998] was not registered for synchronization because synchronization is not active
2022-11-24 11:17:51.300  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 14
2022-11-24 11:17:51.301  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 12
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b39a998]
2022-11-24 11:17:52.104  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:18:12.638  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[14]发送消息{"msg":"ping"}
2022-11-24 11:18:12.639  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:19:36.948  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:19:37.720  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 16
2022-11-24 11:19:37.720  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 12
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1296d6e0] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1296d6e0]
2022-11-24 11:19:38.529  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:19:56.340  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19c9dd5] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19c9dd5]
2022-11-24 11:19:57.057  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 18
2022-11-24 11:19:57.057  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:19:57.864  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:20:17.627  INFO 16901 --- [nio-8181-exec-7] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[18]发送消息{"msg":"ping"}
2022-11-24 11:20:17.628  INFO 16901 --- [nio-8181-exec-7] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:22:22.665  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:22:23.466  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 1a
2022-11-24 11:22:23.467  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 12
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ab9e6d5] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ab9e6d5]
2022-11-24 11:22:24.279  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:22:24.743 ERROR 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 发生错误
java.io.EOFException
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1340)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1227)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:75)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-24 11:22:24.746  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2982a7] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2982a7]
2022-11-24 11:22:25.473  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 1c
2022-11-24 11:22:25.474  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:22:26.288  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:22:46.633  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[1c]发送消息{"msg":"ping"}
2022-11-24 11:22:46.634  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394bc0ba] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from User where u_account=? AND u_password=?
==> Parameters: admin(String), 123456(String)
<==    Columns: u_id, u_account, u_password, u_email, u_register_time
<==        Row: 1003, admin, 123456, , 2022-11-22 04:34:43
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394bc0ba]
login success
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c95ee44] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c95ee44]
2022-11-24 11:22:48.644  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 1e
2022-11-24 11:22:48.644  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:22:49.451  INFO 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:23:09.237  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[1e]发送消息{"msg":"ping"}
2022-11-24 11:23:09.240  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:23:16.944  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 服务端收到用户username=admin的消息:{"from":"admin","to":"undefined","text":"eee"}
2022-11-24 11:23:16.969  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 服务端给客户端[13]发送消息{"from":"admin","text":"eee"}
2022-11-24 11:23:16.970  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 发送给用户username=undefined，消息：{"from":"admin","text":"eee"}
2022-11-24 11:23:19.125  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bcc5219] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bcc5219]
2022-11-24 11:23:19.892  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 20
2022-11-24 11:23:19.893  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:23:20.700  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:23:23.450  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:23:38.282  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7570ce] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7570ce]
2022-11-24 11:23:39.022  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 22
2022-11-24 11:23:39.023  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:23:39.839  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:23:59.632  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[22]发送消息{"msg":"ping"}
2022-11-24 11:23:59.632  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:24:17.473  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c8def4] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c8def4]
2022-11-24 11:24:18.276  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 24
2022-11-24 11:24:18.276  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:24:19.083  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:24:39.638  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[24]发送消息{"msg":"ping"}
2022-11-24 11:24:39.639  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:24:44.200  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a5aff79] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a5aff79]
2022-11-24 11:24:44.942  INFO 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketEdit     : 26
2022-11-24 11:24:44.942  INFO 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:24:45.749  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:24:48.975  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1435da] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1435da]
2022-11-24 11:24:49.765  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 28
2022-11-24 11:24:49.765  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:24:50.569  INFO 16901 --- [nio-8181-exec-7] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:24:50.810 ERROR 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 发生错误
java.io.EOFException
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1340)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1227)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:75)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-24 11:24:50.811  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a9308dd] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a9308dd]
2022-11-24 11:24:51.557  INFO 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketEdit     : 2a
2022-11-24 11:24:51.557  INFO 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:24:52.362  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:25:12.126  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[2a]发送消息{"msg":"ping"}
2022-11-24 11:25:12.127  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:25:28.628  INFO 16901 --- [nio-8181-exec-7] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xd20x010x000x000xce0x030x0360x96k0xe1;:*J'`0xb8*0xc00xc60x01$0xa80xf30x120xb9J#N0xa60xba0xa0)0xa1P!0xb10xf80x000x00b0xc000xc0,0xc0/0xc0+0x000x9f0x000x9e0xc020xc0.0xc010xc0-0x000xa50x000xa10x000xa40x000xa00xc0(0xc0$0xc00x140xc00x0a0xc0*0xc0&0xc00x0f0xc00x050xc0'0xc0#0xc00x130xc00x090xc0)0xc0%0xc00x0e0xc00x040x00k0x00i0x00h0x0090x0070x0060x00g0x00?0x00>0x0030x0010x0000x000x9d0x000x9c0x00=0x0050x00<0x00/0x000xff0x010x000x00C0x000x0b0x000x040x030x000x010x020x000x0a0x000x0a0x000x080x000x170x000x190x000x180x000x160x00#0x000x000x000x0d0x00 ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:28:08.491  INFO 16901 --- [nio-8181-exec-7] l.v.vistaweb.component.WebSocketEdit     : 2c
2022-11-24 11:28:08.491  INFO 16901 --- [nio-8181-exec-7] l.v.vistaweb.component.WebSocketEdit     : 12
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a606fd4] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a606fd4]
2022-11-24 11:28:09.294  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@abf9873] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@abf9873]
2022-11-24 11:28:22.930  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 2e
2022-11-24 11:28:22.931  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:28:23.736  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10df9174] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10df9174]
2022-11-24 11:28:29.841  INFO 16901 --- [nio-8181-exec-7] l.v.vistaweb.component.WebSocketEdit     : 30
2022-11-24 11:28:29.842  INFO 16901 --- [nio-8181-exec-7] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:28:30.636  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[30]发送消息{"msg":"ping"}
2022-11-24 11:28:30.637  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:28:30.654  INFO 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@313b6940] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@313b6940]
2022-11-24 11:28:38.470  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 32
2022-11-24 11:28:38.471  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:28:39.284  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:28:40.316  INFO 16901 --- [nio-8181-exec-7] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:28:40.318  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:28:40.534  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:28:40.534  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:28:40.534  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:28:40.538 ERROR 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd3cab0] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd3cab0]
2022-11-24 11:28:41.121  INFO 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketEdit     : 34
2022-11-24 11:28:41.122  INFO 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:28:41.934  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:29:02.630  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[34]发送消息{"msg":"ping"}
2022-11-24 11:29:02.631  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5617f4b4] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5617f4b4]
2022-11-24 11:29:06.453  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 36
2022-11-24 11:29:06.453  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:29:07.260  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:29:27.642  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[36]发送消息{"msg":"ping"}
2022-11-24 11:29:27.643  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@329abb9d] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@329abb9d]
2022-11-24 11:29:49.962  INFO 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketEdit     : 38
2022-11-24 11:29:49.962  INFO 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:29:50.770  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13a1b323] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13a1b323]
2022-11-24 11:29:51.583  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 3a
2022-11-24 11:29:51.584  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:29:52.394  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5931f63f] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5931f63f]
2022-11-24 11:29:55.502  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 3c
2022-11-24 11:29:55.502  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:29:56.310  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48ec9c05] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48ec9c05]
2022-11-24 11:30:03.215  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 3e
2022-11-24 11:30:03.215  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:30:04.014  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f032a92] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f032a92]
2022-11-24 11:30:04.822  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 40
2022-11-24 11:30:04.823  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:30:05.631  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51392e0e] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51392e0e]
2022-11-24 11:30:07.868  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 42
2022-11-24 11:30:07.868  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:30:08.682  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@568f91c9] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@568f91c9]
2022-11-24 11:30:09.488  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 44
2022-11-24 11:30:09.488  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:30:10.297  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:30:10.631  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[44]发送消息{"msg":"ping"}
2022-11-24 11:30:10.631  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d1391f2] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d1391f2]
2022-11-24 11:30:12.268  INFO 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketEdit     : 46
2022-11-24 11:30:12.268  INFO 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:30:13.066  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676ea81e] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676ea81e]
2022-11-24 11:30:16.050  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 48
2022-11-24 11:30:16.050  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:30:16.641  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[48]发送消息{"msg":"ping"}
2022-11-24 11:30:16.641  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:30:16.858  INFO 16901 --- [nio-8181-exec-7] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:30:20.292  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:30:20.292  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:30:20.511  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:30:20.511  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:30:20.511  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:30:20.511  INFO 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:30:20.511  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:30:20.512  INFO 16901 --- [nio-8181-exec-7] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:30:20.512  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:30:20.512  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:30:20.513  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:30:20.515 ERROR 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:30:20.514 ERROR 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:30:20.515 ERROR 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:30:20.516 ERROR 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:30:20.516 ERROR 16901 --- [nio-8181-exec-7] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17615189] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17615189]
2022-11-24 11:30:21.582  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 4a
2022-11-24 11:30:21.582  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:30:22.410  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:30:42.651  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[4a]发送消息{"msg":"ping"}
2022-11-24 11:30:42.651  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:34:13.107  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 4c
2022-11-24 11:34:13.107  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 12
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f5991b7] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f5991b7]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@637d2f23] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@637d2f23]
2022-11-24 11:34:13.923  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:34:14.738  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 4e
2022-11-24 11:34:14.738  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:34:15.542  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@392a6b91] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@392a6b91]
2022-11-24 11:34:30.849  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 50
2022-11-24 11:34:30.850  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 12
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b0bca43] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b0bca43]
2022-11-24 11:34:31.656  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:34:32.461  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 52
2022-11-24 11:34:32.461  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:34:33.271  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:34:34.642  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[52]发送消息{"msg":"ping"}
2022-11-24 11:34:34.642  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a21ea4d] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a21ea4d]
2022-11-24 11:34:35.422  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 54
2022-11-24 11:34:35.422  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:34:36.232  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f84cc71] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f84cc71]
2022-11-24 11:34:37.724  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 56
2022-11-24 11:34:37.724  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:34:38.536  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271bc9ea] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271bc9ea]
2022-11-24 11:34:41.887  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 58
2022-11-24 11:34:41.887  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:34:42.699  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31f3a133] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31f3a133]
2022-11-24 11:34:44.227  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 5a
2022-11-24 11:34:44.227  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:34:45.029  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65fa67eb] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65fa67eb]
2022-11-24 11:34:47.007  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 5c
2022-11-24 11:34:47.007  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:34:47.817  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:34:51.638  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[5c]发送消息{"msg":"ping"}
2022-11-24 11:34:51.638  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:34:53.885  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[5c]发送消息{"msg":"ping"}
2022-11-24 11:34:53.886  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:34:55.312  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[5c]发送消息{"msg":"ping"}
2022-11-24 11:34:55.313  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:34:55.996  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[5c]发送消息{"msg":"ping"}
2022-11-24 11:34:55.996  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:34:58.292  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[5c]发送消息{"msg":"ping"}
2022-11-24 11:34:58.292  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:35:02.109  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:35:02.327  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:35:02.327  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:35:02.327  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:35:02.327  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:35:02.328  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:35:02.328  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:35:02.328  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:35:02.328  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:35:02.329  INFO 16901 --- [io-8181-exec-14] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:35:02.331 ERROR 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:35:02.331 ERROR 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:35:02.332 ERROR 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:35:02.332 ERROR 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:35:02.333 ERROR 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:35:02.334 ERROR 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11d7435d] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11d7435d]
2022-11-24 11:35:03.364  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 5e
2022-11-24 11:35:03.365  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:35:04.183  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d1390e0] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d1390e0]
2022-11-24 11:35:14.655  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 60
2022-11-24 11:35:14.655  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:35:15.464  INFO 16901 --- [io-8181-exec-14] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e480e6] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e480e6]
2022-11-24 11:35:16.727  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 62
2022-11-24 11:35:16.727  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:35:17.528  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63fcf706] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63fcf706]
2022-11-24 11:35:22.821  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 64
2022-11-24 11:35:22.821  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:35:23.623  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:35:24.629  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[64]发送消息{"msg":"ping"}
2022-11-24 11:35:24.630  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@433ec229] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@433ec229]
2022-11-24 11:35:26.177  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 66
2022-11-24 11:35:26.177  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:35:26.984  INFO 16901 --- [io-8181-exec-14] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d43ea2f] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d43ea2f]
2022-11-24 11:35:29.641  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 68
2022-11-24 11:35:29.641  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:35:30.452  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:35:35.233  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[68]发送消息{"msg":"ping"}
2022-11-24 11:35:35.234  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:35:37.308  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[68]发送消息{"msg":"ping"}
2022-11-24 11:35:37.308  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:35:43.962  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[68]发送消息{"msg":"ping"}
2022-11-24 11:35:43.962  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:35:46.758  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[68]发送消息{"msg":"ping"}
2022-11-24 11:35:46.758  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:35:55.630  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[68]发送消息{"msg":"ping"}
2022-11-24 11:35:55.631  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d83df3f] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d83df3f]
2022-11-24 11:35:56.800  INFO 16901 --- [io-8181-exec-14] l.v.vistaweb.component.WebSocketEdit     : 6a
2022-11-24 11:35:56.801  INFO 16901 --- [io-8181-exec-14] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:35:57.608  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:35:57.640  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:35:57.641  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:36:04.641  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:36:04.641  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:36:07.634  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:36:07.635  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:36:15.643  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:36:15.643  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:36:17.643  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:36:17.644  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:36:24.638  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:36:24.638  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:36:27.643  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:36:27.644  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:36:35.632  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:36:35.633  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:36:37.642  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:36:37.642  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:36:44.632  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:36:44.632  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:36:47.631  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:36:47.631  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:36:55.642  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:36:55.642  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:36:57.636  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:36:57.636  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:37:04.636  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:37:04.636  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:37:07.643  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:37:07.643  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:37:15.235  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:37:15.235  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:37:17.313  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:37:17.313  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:37:23.948  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:37:23.948  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:37:26.751  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:37:26.751  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:37:35.245  INFO 16901 --- [io-8181-exec-14] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:37:35.245  INFO 16901 --- [io-8181-exec-14] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:37:37.306  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:37:37.306  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:37:44.641  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:37:44.641  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:37:47.638  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:37:47.639  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:37:55.634  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:37:55.634  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:37:57.646  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:37:57.646  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:38:04.626  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:38:04.627  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:38:07.637  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:38:07.638  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:38:15.631  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:38:15.632  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:38:17.636  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:38:17.637  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:38:24.638  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:38:24.639  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:38:26.834  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:38:26.834  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:38:35.233  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:38:35.233  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:38:37.311  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:38:37.312  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:38:43.950  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:38:43.951  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:38:46.762  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:38:46.763  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:38:55.229  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:38:55.230  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:38:57.301  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:38:57.301  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:39:04.634  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:39:04.634  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:39:06.760  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:39:06.760  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:39:15.633  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:39:15.633  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:39:17.635  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:39:17.636  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:39:24.639  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:39:24.640  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:39:27.635  INFO 16901 --- [io-8181-exec-14] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:39:27.635  INFO 16901 --- [io-8181-exec-14] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:39:35.640  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:39:35.641  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:39:37.639  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:39:37.640  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:39:44.628  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:39:44.628  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:39:47.636  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:39:47.637  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:39:55.628  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:39:55.628  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:39:57.640  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:39:57.641  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:40:04.633  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:40:04.633  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:40:07.637  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:40:07.637  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:40:15.633  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6a]发送消息{"msg":"ping"}
2022-11-24 11:40:15.634  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:40:16.358  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 6c
2022-11-24 11:40:16.358  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 12
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33990fd] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33990fd]
2022-11-24 11:40:17.167  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:40:17.635  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6c]发送消息{"msg":"ping"}
2022-11-24 11:40:17.636  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@467ff96] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@467ff96]
2022-11-24 11:40:23.052  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 6e
2022-11-24 11:40:23.052  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:40:23.858  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:40:24.637  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[6e]发送消息{"msg":"ping"}
2022-11-24 11:40:24.638  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ce4d70] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ce4d70]
2022-11-24 11:40:27.332  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 70
2022-11-24 11:40:27.332  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:40:28.156  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@666fb2b7] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@666fb2b7]
2022-11-24 11:40:33.991  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 72
2022-11-24 11:40:33.991  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:40:34.796  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:40:35.628  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[72]发送消息{"msg":"ping"}
2022-11-24 11:40:35.629  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40056c7b] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40056c7b]
2022-11-24 11:40:36.219  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 74
2022-11-24 11:40:36.219  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:40:37.098  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8b93e8] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8b93e8]
2022-11-24 11:40:37.901  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 76
2022-11-24 11:40:37.901  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:40:38.701  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:40:44.632  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[76]发送消息{"msg":"ping"}
2022-11-24 11:40:44.633  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b2327f1] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b2327f1]
2022-11-24 11:40:46.915  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 78
2022-11-24 11:40:46.915  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:40:47.625  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[78]发送消息{"msg":"ping"}
2022-11-24 11:40:47.625  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:40:47.771  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:40:48.638  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[78]发送消息{"msg":"ping"}
2022-11-24 11:40:48.639  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:40:55.641  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[78]发送消息{"msg":"ping"}
2022-11-24 11:40:55.641  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:40:57.638  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[78]发送消息{"msg":"ping"}
2022-11-24 11:40:57.638  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:40:57.639  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[78]发送消息{"msg":"ping"}
2022-11-24 11:40:57.639  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:41:03.950  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[78]发送消息{"msg":"ping"}
2022-11-24 11:41:03.951  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:41:06.762  INFO 16901 --- [io-8181-exec-14] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[78]发送消息{"msg":"ping"}
2022-11-24 11:41:06.763  INFO 16901 --- [io-8181-exec-14] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:41:07.909  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[78]发送消息{"msg":"ping"}
2022-11-24 11:41:07.909  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:41:15.635  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[78]发送消息{"msg":"ping"}
2022-11-24 11:41:15.636  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:41:17.638  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[78]发送消息{"msg":"ping"}
2022-11-24 11:41:17.638  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:41:17.639  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[78]发送消息{"msg":"ping"}
2022-11-24 11:41:17.639  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:41:24.640  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[78]发送消息{"msg":"ping"}
2022-11-24 11:41:24.640  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5210b87b] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5210b87b]
2022-11-24 11:41:26.025  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 7a
2022-11-24 11:41:26.026  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:41:26.868  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:41:27.630  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[7a]发送消息{"msg":"ping"}
2022-11-24 11:41:27.630  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:41:28.646  INFO 16901 --- [io-8181-exec-14] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[7a]发送消息{"msg":"ping"}
2022-11-24 11:41:28.646  INFO 16901 --- [io-8181-exec-14] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a962e5] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79a962e5]
2022-11-24 11:41:31.945  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 7c
2022-11-24 11:41:31.945  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:41:32.759  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57dfaa32] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57dfaa32]
2022-11-24 11:41:33.592  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 7e
2022-11-24 11:41:33.592  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:41:34.215  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.215  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.219 ERROR 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:41:34.414  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.414  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.414  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.415  INFO 16901 --- [io-8181-exec-13] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.415  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.415  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.415  INFO 16901 --- [io-8181-exec-17] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.415  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.415  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.415  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.415  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.415  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.415  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.416  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:41:34.416 ERROR 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:41:34.416 ERROR 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:41:34.417 ERROR 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:41:34.417 ERROR 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:41:34.418 ERROR 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:41:34.418 ERROR 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:41:34.419 ERROR 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:41:34.419 ERROR 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:41:34.420 ERROR 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:41:34.420 ERROR 16901 --- [io-8181-exec-17] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@144c8b8] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@144c8b8]
2022-11-24 11:41:35.484  INFO 16901 --- [io-8181-exec-14] l.v.vistaweb.component.WebSocketEdit     : 7f
2022-11-24 11:41:35.484  INFO 16901 --- [io-8181-exec-14] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:41:36.362  INFO 16901 --- [io-8181-exec-18] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:41:36.972  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a92ccde] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a92ccde]
2022-11-24 11:41:38.232  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 81
2022-11-24 11:41:38.232  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:41:39.114  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:41:58.848  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[81]发送消息{"msg":"ping"}
2022-11-24 11:41:58.848  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
2022-11-24 11:44:31.879  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 83
2022-11-24 11:44:31.880  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 12
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@81db7f2] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@81db7f2]
2022-11-24 11:44:32.683  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48de652b] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48de652b]
2022-11-24 11:44:43.310  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 85
2022-11-24 11:44:43.310  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:44:44.118  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:44:52.641  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[85]发送消息{"msg":"ping"}
2022-11-24 11:44:52.641  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:44:55.390  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:44:55.390  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:44:55.393 ERROR 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:44:55.608  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5da2d91e] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5da2d91e]
2022-11-24 11:44:56.630  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 87
2022-11-24 11:44:56.630  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:44:57.451  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:45:17.627  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[87]发送消息{"msg":"ping"}
2022-11-24 11:45:17.627  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b6d1cad] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b6d1cad]
2022-11-24 11:45:19.004  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 89
2022-11-24 11:45:19.004  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:45:19.820  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af71891] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af71891]
2022-11-24 11:45:22.204  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 8b
2022-11-24 11:45:22.204  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:45:23.015  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4222c4dc] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4222c4dc]
2022-11-24 11:45:26.728  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketEdit     : 8d
2022-11-24 11:45:26.728  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:45:27.532  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30eaaaea] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30eaaaea]
2022-11-24 11:45:28.500  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 8f
2022-11-24 11:45:28.500  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:45:29.311  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4759b2eb] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4759b2eb]
2022-11-24 11:45:31.106  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 91
2022-11-24 11:45:31.106  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:45:31.133  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:45:31.322 ERROR 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 发生错误
2022-11-24 11:45:31.322  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:45:31.322  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
java.io.EOFException
2022-11-24 11:45:31.322  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:45:31.322  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1340)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1227)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:75)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-24 11:45:31.323 ERROR 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:45:31.324 ERROR 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796a09c7] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796a09c7]
2022-11-24 11:45:32.372  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 92
2022-11-24 11:45:32.372  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:45:33.204  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:45:53.628  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[92]发送消息{"msg":"ping"}
2022-11-24 11:45:53.628  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73e52e09] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73e52e09]
2022-11-24 11:45:54.691  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 94
2022-11-24 11:45:54.691  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:45:55.489  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ddc4246] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ddc4246]
2022-11-24 11:45:58.047  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 96
2022-11-24 11:45:58.048  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:45:58.849  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e29fca] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e29fca]
2022-11-24 11:45:59.691  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 98
2022-11-24 11:45:59.691  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:45:59.967  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:45:59.967 ERROR 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 发生错误
java.io.EOFException
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1340)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1227)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:75)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-24 11:46:00.185  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:46:00.185  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:46:00.187 ERROR 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:46:01.203  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 99
Creating a new SqlSession
2022-11-24 11:46:01.203  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 12
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8dfafe5] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8dfafe5]
2022-11-24 11:46:02.050  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:46:22.636  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[99]发送消息{"msg":"ping"}
2022-11-24 11:46:22.637  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7672604c] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7672604c]
2022-11-24 11:46:38.442  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 9b
2022-11-24 11:46:38.442  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:46:39.263  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48428321] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48428321]
2022-11-24 11:46:46.640  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketEdit     : 9d
2022-11-24 11:46:46.640  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:46:47.451  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2113517a] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2113517a]
2022-11-24 11:46:48.259  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 9f
2022-11-24 11:46:48.259  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:46:49.069  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@386dfbc0] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@386dfbc0]
2022-11-24 11:46:58.114  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : a1
2022-11-24 11:46:58.114  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 12
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@765b3470] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@765b3470]
2022-11-24 11:46:58.922  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:46:59.556  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:46:59.770  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:46:59.770  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:46:59.770  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:46:59.770  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:46:59.772 ERROR 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 11:46:59.772 ERROR 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf8cb04] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf8cb04]
2022-11-24 11:47:00.789  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : a3
2022-11-24 11:47:00.789  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:47:01.622  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58ee7da3] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58ee7da3]
2022-11-24 11:47:14.678  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketEdit     : a5
2022-11-24 11:47:14.678  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketEdit     : 12
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2629f568] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2629f568]
2022-11-24 11:47:15.484  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:47:16.289  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : a7
2022-11-24 11:47:16.289  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:47:17.099  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ac9c34f] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ac9c34f]
2022-11-24 11:47:17.915  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : a9
2022-11-24 11:47:17.915  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:47:18.202 ERROR 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 发生错误
java.io.EOFException
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1340)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1227)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:75)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
2022-11-24 11:47:18.203  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-24 11:47:18.203  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:47:18.204  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@468c7498] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@468c7498]
2022-11-24 11:47:20.016  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : aa
2022-11-24 11:47:20.017  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:47:20.862  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ffe5c6] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ffe5c6]
2022-11-24 11:47:30.199  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketEdit     : ac
2022-11-24 11:47:30.199  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:47:31.004  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e995d04] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e995d04]
2022-11-24 11:47:32.724  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : ae
2022-11-24 11:47:32.724  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:47:33.535  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:47:40.639  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[ae]发送消息{"msg":"ping"}
2022-11-24 11:47:40.640  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b13ee13] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b13ee13]
2022-11-24 11:47:41.923  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : b0
2022-11-24 11:47:41.923  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:47:42.755  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:47:51.631  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[b0]发送消息{"msg":"ping"}
2022-11-24 11:47:51.631  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eaf2f8] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@eaf2f8]
2022-11-24 11:47:55.658  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketEdit     : b2
2022-11-24 11:47:55.659  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketEdit     : 12
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40b47e12] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40b47e12]
2022-11-24 11:47:56.467  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:47:57.286  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : b4
2022-11-24 11:47:57.286  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:47:57.390  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:47:57.390  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:47:57.504 ERROR 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 发生错误
java.io.EOFException
2022-11-24 11:47:57.504  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1340)
2022-11-24 11:47:57.504  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1227)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:75)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
2022-11-24 11:47:57.504  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-24 11:47:57.505 ERROR 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketServer   : 服务端发送消息给客户端失败

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1274) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1236) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:194) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at lab.vista.vistaweb.component.WebSocketServer.sendAllMessage(WebSocketServer.java:124) ~[classes/:na]
	at lab.vista.vistaweb.component.WebSocketServer.onClose(WebSocketServer.java:65) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoEndpointBase.onClose(PojoEndpointBase.java:107) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:767) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:748) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:367) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:296) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@599a29ac] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@599a29ac]
2022-11-24 11:47:58.567  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : b5
2022-11-24 11:47:58.567  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:47:59.397  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:48:19.145  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[b5]发送消息{"msg":"ping"}
2022-11-24 11:48:19.145  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:48:36.517  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e483b8a] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e483b8a]
2022-11-24 11:48:37.743  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : b7
2022-11-24 11:48:37.743  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:48:38.604  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69954fce] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69954fce]
2022-11-24 11:48:48.025  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : b9
2022-11-24 11:48:48.025  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:48:48.827  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28cf37f5] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28cf37f5]
2022-11-24 11:48:56.441  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : bb
2022-11-24 11:48:56.441  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:48:57.242  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110f087e] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110f087e]
2022-11-24 11:48:58.058  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : bd
2022-11-24 11:48:58.059  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:48:58.629  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[bd]发送消息{"msg":"ping"}
2022-11-24 11:48:58.630  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:48:58.860  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:48:59.822  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:48:59.823  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:48:59.824  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:49:00.040  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6580a7] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6580a7]
2022-11-24 11:49:01.012  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : bf
2022-11-24 11:49:01.012  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:49:01.869  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:49:21.616  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[bf]发送消息{"msg":"ping"}
2022-11-24 11:49:21.616  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f2b40b0] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f2b40b0]
2022-11-24 11:49:30.312  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : c1
2022-11-24 11:49:30.312  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:49:30.705  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:49:30.705 ERROR 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : 发生错误
java.io.EOFException
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1340)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1227)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:75)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41fabb0b] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41fabb0b]
2022-11-24 11:49:31.925  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : c2
2022-11-24 11:49:31.926  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:49:32.814  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fee32b9] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fee32b9]
2022-11-24 11:49:41.117  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketEdit     : c4
2022-11-24 11:49:41.117  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:49:41.926  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dcbec60] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dcbec60]
2022-11-24 11:49:43.156  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : c6
2022-11-24 11:49:43.156  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:49:43.967  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:49:45.391  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:49:45.392  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:49:45.607  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7798d68a] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7798d68a]
2022-11-24 11:49:46.637  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : c8
2022-11-24 11:49:46.637  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:49:47.542  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a59b677] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a59b677]
2022-11-24 11:49:54.319  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : ca
2022-11-24 11:49:54.319  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:49:55.136  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:50:07.633  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[ca]发送消息{"msg":"ping"}
2022-11-24 11:50:07.634  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:50:20.440  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
2022-11-24 11:50:20.442  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：1
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df548fc] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@53df1199] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df548fc]
2022-11-24 11:50:21.684  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketEdit     : cc
2022-11-24 11:50:21.685  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketEdit     : 12
2022-11-24 11:50:22.512  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：2
username
2022-11-24 11:50:42.267  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[cc]发送消息{"msg":"ping"}
2022-11-24 11:50:42.267  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[12]发送消息{"msg":"ping"}
2022-11-24 11:51:21.073 ERROR 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketEdit     : 发生错误
java.io.EOFException
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1340)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1227)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:75)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-24 11:51:21.076 ERROR 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 发生错误
java.io.EOFException
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1340)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1227)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:75)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-24 11:51:21.077  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=undefined的用户session, 当前在线人数为：1
2022-11-24 11:51:21.077 ERROR 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : 发生错误
java.io.EOFException
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1340)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1227)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:75)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-24 11:51:21.088 ERROR 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 发生错误
java.io.EOFException
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1340)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1227)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:75)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-11-24 11:51:21.088  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
2022-11-24 11:52:11.118  INFO 16901 --- [io-8181-exec-15] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x000xd20x010x000x000xce0x030x030xb0*0xc20x10Rg0xf4Uo0xcbz0x820xcc70xd4y0x8d0x1a0xfd`k0xf80xb4Z0x040xf720xb80x860xf90x9eC0x000x00b0xc000xc0,0xc0/0xc0+0x000x9f0x000x9e0xc020xc0.0xc010xc0-0x000xa50x000xa10x000xa40x000xa00xc0(0xc0$0xc00x140xc00x0a0xc0*0xc0&0xc00x0f0xc00x050xc0'0xc0#0xc00x130xc00x090xc0)0xc0%0xc00x0e0xc00x040x00k0x00i0x00h0x0090x0070x0060x00g0x00?0x00>0x0030x0010x0000x000x9d0x000x9c0x00=0x0050x00<0x00/0x000xff0x010x000x00C0x000x0b0x000x040x030x000x010x020x000x0a0x000x0a0x000x080x000x170x000x190x000x180x000x160x00#0x000x000x000x0d0x00 ]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a56db0] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@1f91eac9] will not be managed by Spring
==>  Preparing: select * from User where u_account=? AND u_password=?
==> Parameters: admin(String), 123456(String)
<==    Columns: u_id, u_account, u_password, u_email, u_register_time
<==        Row: 1003, admin, 123456, , 2022-11-22 04:34:43
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a56db0]
login success
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5858b6f1] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@1f91eac9] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5858b6f1]
2022-11-24 12:47:26.399  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : ce
2022-11-24 12:47:27.410  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
2022-11-24 12:47:46.942  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[ce]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@360a4d86] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@1f91eac9] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@360a4d86]
2022-11-24 12:48:14.123  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : d0
2022-11-24 12:48:15.009  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
2022-11-24 12:48:24.575  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
2022-11-24 12:48:24.579  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@83eb684] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@1f91eac9] will not be managed by Spring
==>  Preparing: select * from User where u_account=? AND u_password=?
==> Parameters: admin(String), 123456(String)
<==    Columns: u_id, u_account, u_password, u_email, u_register_time
<==        Row: 1003, admin, 123456, , 2022-11-22 04:34:43
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@83eb684]
login success
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa7a923] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@1f91eac9] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa7a923]
2022-11-24 12:48:29.446  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : d2
2022-11-24 12:48:30.337  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
2022-11-24 12:48:50.076  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[d2]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bfb6b95] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@1f91eac9] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bfb6b95]
2022-11-24 12:49:09.933  INFO 16901 --- [nio-8181-exec-9] l.v.vistaweb.component.WebSocketEdit     : d4
2022-11-24 12:49:10.920  INFO 16901 --- [io-8181-exec-15] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d556f11] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@1f91eac9] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d556f11]
2022-11-24 12:49:13.060  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketEdit     : d6
2022-11-24 12:49:13.990  INFO 16901 --- [io-8181-exec-16] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
2022-11-24 12:49:15.469  INFO 16901 --- [io-8181-exec-12] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
2022-11-24 12:49:15.470  INFO 16901 --- [io-8181-exec-19] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
2022-11-24 12:49:15.471  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2315bfd1] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@1f91eac9] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2315bfd1]
2022-11-24 12:49:24.684  INFO 16901 --- [io-8181-exec-11] l.v.vistaweb.component.WebSocketEdit     : d8
2022-11-24 12:49:25.584  INFO 16901 --- [nio-8181-exec-3] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
2022-11-24 12:49:45.414  INFO 16901 --- [nio-8181-exec-8] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[d8]发送消息{"msg":"ping"}
2022-11-24 12:51:41.524  INFO 16901 --- [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 18 class path changes (0 additions, 0 deletions, 18 modifications)
2022-11-24 12:51:41.534  INFO 16901 --- [      Thread-12] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-11-24 12:51:41.535  INFO 16901 --- [      Thread-12] o.a.c.c.C.[Tomcat].[localhost].[/]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
2022-11-24 12:51:41.536  INFO 16901 --- [      Thread-12] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
2022-11-24 12:51:41.549  INFO 16901 --- [      Thread-12] com.alibaba.druid.pool.DruidDataSource   : {dataSource-2} closing ...
2022-11-24 12:51:41.550  INFO 16901 --- [      Thread-12] com.alibaba.druid.pool.DruidDataSource   : {dataSource-2} closed
VISTA LABS
2022-11-24 12:51:41.785  INFO 16901 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : Starting VistawebApplication using Java 17.0.5 on vista-server with PID 16901 (/home/vista/web/springboot/vistaweb/target/classes started by vista in /home/vista/web/springboot/vistaweb)
2022-11-24 12:51:41.785  INFO 16901 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : No active profile set, falling back to 1 default profile: "default"
2022-11-24 12:51:42.118  INFO 16901 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8181 (http)
2022-11-24 12:51:42.119  INFO 16901 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-11-24 12:51:42.119  INFO 16901 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-24 12:51:42.126  INFO 16901 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-11-24 12:51:42.126  INFO 16901 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 337 ms
Logging initialized using 'class org.apache.ibatis.logging.stdout.StdOutImpl' adapter.
2022-11-24 12:51:42.155  INFO 16901 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2022-11-24 12:51:42.167  INFO 16901 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-3} inited
Property 'mapperLocations' was not specified.
 _ _   |_  _ _|_. ___ _ |    _ 
| | |\/|_)(_| | |_\  |_)||_|_\ 
     /               |         
                        3.4.2 
2022-11-24 12:51:42.277  INFO 16901 --- [  restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-11-24 12:51:42.293  INFO 16901 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-11-24 12:51:42.363  WARN 16901 --- [  restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2022-11-24 12:51:42.398  INFO 16901 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8181 (http) with context path ''
2022-11-24 12:51:42.398  INFO 16901 --- [  restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2022-11-24 12:51:42.399  INFO 16901 --- [  restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2022-11-24 12:51:42.402  INFO 16901 --- [  restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2022-11-24 12:51:42.431  INFO 16901 --- [  restartedMain] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: queryUsingGET_1
2022-11-24 12:51:42.440  INFO 16901 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : Started VistawebApplication in 0.695 seconds (JVM running for 41311.377)
2022-11-24 12:51:42.442  INFO 16901 --- [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2022-11-24 12:51:43.785  INFO 16901 --- [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 18 class path changes (0 additions, 0 deletions, 18 modifications)
2022-11-24 12:51:43.790  INFO 16901 --- [      Thread-22] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2022-11-24 12:51:43.799  INFO 16901 --- [      Thread-22] com.alibaba.druid.pool.DruidDataSource   : {dataSource-3} closing ...
2022-11-24 12:51:43.799  INFO 16901 --- [      Thread-22] com.alibaba.druid.pool.DruidDataSource   : {dataSource-3} closed
VISTA LABS
2022-11-24 12:51:43.971  INFO 16901 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : Starting VistawebApplication using Java 17.0.5 on vista-server with PID 16901 (/home/vista/web/springboot/vistaweb/target/classes started by vista in /home/vista/web/springboot/vistaweb)
2022-11-24 12:51:43.971  INFO 16901 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : No active profile set, falling back to 1 default profile: "default"
2022-11-24 12:51:44.204  INFO 16901 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8181 (http)
2022-11-24 12:51:44.205  INFO 16901 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-11-24 12:51:44.205  INFO 16901 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]
2022-11-24 12:51:44.211  INFO 16901 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-11-24 12:51:44.211  INFO 16901 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 238 ms
Logging initialized using 'class org.apache.ibatis.logging.stdout.StdOutImpl' adapter.
2022-11-24 12:51:44.237  INFO 16901 --- [  restartedMain] c.a.d.s.b.a.DruidDataSourceAutoConfigure : Init DruidDataSource
2022-11-24 12:51:44.246  INFO 16901 --- [  restartedMain] com.alibaba.druid.pool.DruidDataSource   : {dataSource-4} inited
Property 'mapperLocations' was not specified.
 _ _   |_  _ _|_. ___ _ |    _ 
| | |\/|_)(_| | |_\  |_)||_|_\ 
     /               |         
                        3.4.2 
2022-11-24 12:51:44.333  INFO 16901 --- [  restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2022-11-24 12:51:44.344  INFO 16901 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2022-11-24 12:51:44.390  WARN 16901 --- [  restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2022-11-24 12:51:44.417  INFO 16901 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8181 (http) with context path ''
2022-11-24 12:51:44.417  INFO 16901 --- [  restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2022-11-24 12:51:44.418  INFO 16901 --- [  restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2022-11-24 12:51:44.421  INFO 16901 --- [  restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2022-11-24 12:51:44.445  INFO 16901 --- [  restartedMain] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: queryUsingGET_1
2022-11-24 12:51:44.453  INFO 16901 --- [  restartedMain] lab.vista.vistaweb.VistawebApplication   : Started VistawebApplication in 0.505 seconds (JVM running for 41313.39)
2022-11-24 12:51:44.455  INFO 16901 --- [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2022-11-24 13:14:33.505  INFO 16901 --- [nio-8181-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-11-24 13:14:33.505  INFO 16901 --- [nio-8181-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-11-24 13:14:33.510  INFO 16901 --- [nio-8181-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2022-11-24 13:14:33.514  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketEdit     : da
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@130ef6c9] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@560c6acc] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@130ef6c9]
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1426c64a] was not registered for synchronization because synchronization is not active
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1426c64a]
2022-11-24 13:14:34.435 ERROR 16901 --- [nio-8181-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'u_account' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause

org.apache.ibatis.binding.BindingException: Parameter 'u_account' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212) ~[mybatis-3.5.6.jar:3.5.6]
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45) ~[mybatis-3.5.6.jar:3.5.6]
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122) ~[mybatis-3.5.6.jar:3.5.6]
	at com.baomidou.mybatisplus.core.executor.AbstractBaseExecutor.createCacheKey(AbstractBaseExecutor.java:76) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.createCacheKey(MybatisCachingExecutor.java:250) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:91) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.6.jar:3.5.6]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140) ~[mybatis-3.5.6.jar:3.5.6]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76) ~[mybatis-3.5.6.jar:3.5.6]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426) ~[mybatis-spring-2.0.5.jar:2.0.5]
	at jdk.proxy2/jdk.proxy2.$Proxy75.selectOne(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159) ~[mybatis-spring-2.0.5.jar:2.0.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:90) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:148) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at jdk.proxy7/jdk.proxy7.$Proxy117.login(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at jdk.proxy7/jdk.proxy7.$Proxy118.login(Unknown Source) ~[na:na]
	at lab.vista.vistaweb.controller.LoginController.login(LoginController.java:76) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 13:14:34.783  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
2022-11-24 13:14:54.467  INFO 16901 --- [nio-8181-exec-6] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[da]发送消息{"msg":"ping"}
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c0d01a2] was not registered for synchronization because synchronization is not active
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c0d01a2]
2022-11-24 13:15:04.241 ERROR 16901 --- [nio-8181-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'u_account' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause

org.apache.ibatis.binding.BindingException: Parameter 'u_account' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212) ~[mybatis-3.5.6.jar:3.5.6]
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45) ~[mybatis-3.5.6.jar:3.5.6]
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122) ~[mybatis-3.5.6.jar:3.5.6]
	at com.baomidou.mybatisplus.core.executor.AbstractBaseExecutor.createCacheKey(AbstractBaseExecutor.java:76) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.createCacheKey(MybatisCachingExecutor.java:250) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:91) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.6.jar:3.5.6]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140) ~[mybatis-3.5.6.jar:3.5.6]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76) ~[mybatis-3.5.6.jar:3.5.6]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426) ~[mybatis-spring-2.0.5.jar:2.0.5]
	at jdk.proxy2/jdk.proxy2.$Proxy75.selectOne(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159) ~[mybatis-spring-2.0.5.jar:2.0.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:90) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:148) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at jdk.proxy7/jdk.proxy7.$Proxy117.login(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at jdk.proxy7/jdk.proxy7.$Proxy118.login(Unknown Source) ~[na:na]
	at lab.vista.vistaweb.controller.LoginController.login(LoginController.java:76) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 13:15:21.408  INFO 16901 --- [nio-8181-exec-2] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660536a] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@560c6acc] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660536a]
2022-11-24 13:15:22.579  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : dc
2022-11-24 13:15:24.096  INFO 16901 --- [nio-8181-exec-5] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
2022-11-24 13:15:25.982  WARN 16901 --- [nio-8181-exec-6] o.s.web.servlet.PageNotFound             : No mapping for POST /user/login
2022-11-24 13:15:33.230  INFO 16901 --- [nio-8181-exec-7] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112c3109] was not registered for synchronization because synchronization is not active
JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@560c6acc] will not be managed by Spring
==>  Preparing: select * from excelfile
==> Parameters: 
<==    Columns: id, filename, auther, uploadedtime, path
<==        Row: 8, first.xlsx, doiry, 2022-11-23 17:13:01, /home/vista/web/tomcat/webapps/files/doiry/first.xlsx
<==      Total: 1
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112c3109]
2022-11-24 13:15:34.358  INFO 16901 --- [io-8181-exec-10] l.v.vistaweb.component.WebSocketEdit     : de
2022-11-24 13:15:35.667  INFO 16901 --- [nio-8181-exec-1] l.v.vistaweb.component.WebSocketServer   : 有新用户加入，username=admin, 当前在线人数为：1
username
Creating a new SqlSession
SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6790dfb9] was not registered for synchronization because synchronization is not active
Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6790dfb9]
2022-11-24 13:15:41.064 ERROR 16901 --- [nio-8181-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter 'u_account' not found. Available parameters are [arg1, arg0, param1, param2]] with root cause

org.apache.ibatis.binding.BindingException: Parameter 'u_account' not found. Available parameters are [arg1, arg0, param1, param2]
	at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:212) ~[mybatis-3.5.6.jar:3.5.6]
	at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:45) ~[mybatis-3.5.6.jar:3.5.6]
	at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:122) ~[mybatis-3.5.6.jar:3.5.6]
	at com.baomidou.mybatisplus.core.executor.AbstractBaseExecutor.createCacheKey(AbstractBaseExecutor.java:76) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.createCacheKey(MybatisCachingExecutor.java:250) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at com.baomidou.mybatisplus.core.executor.MybatisCachingExecutor.query(MybatisCachingExecutor.java:91) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.6.jar:3.5.6]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140) ~[mybatis-3.5.6.jar:3.5.6]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76) ~[mybatis-3.5.6.jar:3.5.6]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426) ~[mybatis-spring-2.0.5.jar:2.0.5]
	at jdk.proxy2/jdk.proxy2.$Proxy75.selectOne(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159) ~[mybatis-spring-2.0.5.jar:2.0.5]
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:90) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:148) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89) ~[mybatis-plus-core-3.4.2.jar:3.4.2]
	at jdk.proxy7/jdk.proxy7.$Proxy117.login(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]
	at jdk.proxy7/jdk.proxy7.$Proxy118.login(Unknown Source) ~[na:na]
	at lab.vista.vistaweb.controller.LoginController.login(LoginController.java:76) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2022-11-24 13:15:55.489  INFO 16901 --- [nio-8181-exec-4] l.v.vistaweb.component.WebSocketEdit     : 服务端给客户端[de]发送消息{"msg":"ping"}
2022-11-24 13:16:08.060  INFO 16901 --- [ionShutdownHook] l.v.vistaweb.component.WebSocketServer   : 有一连接关闭，移除username=admin的用户session, 当前在线人数为：0
2022-11-24 13:16:08.068  INFO 16901 --- [ionShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-4} closing ...
2022-11-24 13:16:08.069  INFO 16901 --- [ionShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-4} closed
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  11:52 h
[INFO] Finished at: 2022-11-24T13:16:08+08:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.5:run (default-cli) on project vistaweb: Application finished with exit code: 143 -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
